<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yunz Lab</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');

    /* Reset & box sizing */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      background: #0a0a0a;
      color: #e0c097;
      font-family: 'Press Start 2P', monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      text-align: center;
      user-select: none;
    }

    .container {
      width: 100%;
      max-width: 360px;
    }

    h1 {
      font-family: 'Orbitron', monospace;
      font-weight: 900;
      font-size: 32px;
      letter-spacing: 4px;
      color: #ffb347;
      text-shadow: 4px 4px 0 #331f12, 0 0 8px #ff9533;
      margin-bottom: 2rem;
      animation: titlePulse 3s ease-in-out infinite alternate;
    }
    @keyframes titlePulse {
      from { text-shadow: 4px 4px 0 #331f12, 0 0 8px #ff9533; }
      to   { text-shadow: 4px 4px 0 #331f12, 0 0 16px #ff9533; }
    }

    #challenge { margin-bottom: 2rem; }
    .alphabet-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      margin: 0 auto 1rem;
      width: 100%;
    }
    .alphabet-grid input {
      background: #221a0d;
      border: 2px solid #553d24;
      color: #e0c097;
      font-family: 'Press Start 2P';
      font-size: 16px;
      text-align: center;
      height: 50px;
      text-shadow: 1px 1px 0 #000;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    .alphabet-grid input::placeholder {
      color: #ffb347;
      font-size: 24px;
      text-shadow: 1px 1px 0 #000;
    }
    .alphabet-grid input.correct {
      border-color: #ffd27f;
      box-shadow: 0 0 6px #ffd27f;
      background: #3b2a1c;
    }
    .alphabet-grid input.error {
      border-color: #e05a00;
      box-shadow: 0 0 6px #e05a00;
      background: #331f12;
    }
    @keyframes glitchShake {
      0% { transform: translate(0,0); }
      20% { transform: translate(-5px,0); }
      40% { transform: translate(5px,0); }
      60% { transform: translate(-5px,0); }
      80% { transform: translate(5px,0); }
      100% { transform: translate(0,0); }
    }
    .glitch { animation: glitchShake 0.4s ease-in-out; }

    button {
      padding: 12px 24px;
      font-family: 'Press Start 2P';
      font-size: 14px;
      background: #ffd27f;
      border: 2px solid #e05a00;
      color: #331f12;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    button:hover { background: #e05a00; color: #ffd27f; }

    #error {
      color: #e05a00;
      margin-top: 1rem;
      display: none;
    }

    #translator { display: none; }
    label { color: #ffd27f; margin-top:1.5rem; display:block; }
    textarea {
      width:100%; height:100px;
      background:#221a0d;
      border:2px solid #553d24;
      color:#e0c097;
      padding:0.6em;
      font-family:'Press Start 2P';
      text-shadow:0 0 4px #ff9533;
      transition:border-color 0.2s, box-shadow 0.2s;
    }
    hr { border:none; border-top:2px solid #553d24; margin:2rem 0; }
  </style>
</head>
<body oncontextmenu="return false;">
  <div class="container" id="challenge">
    <h1>YUNZ LAB</h1>
    <div class="alphabet-grid" id="oghamInputs"></div>
    <button onclick="checkAnswers()">UNLOCK</button>
    <p id="error">Incorrect. Try again.</p>
  </div>
  <div class="container" id="translator">
    <label for="inputEnglish">ENCODE</label>
    <textarea id="inputEnglish" placeholder="Type..." ></textarea>
    <textarea id="outputOgham" readonly placeholder="Symbols..."></textarea>
    <hr />
    <label for="inputOgham">DECODE</label>
    <textarea id="inputOgham" placeholder="Paste..." ></textarea>
    <textarea id="outputEnglish" readonly placeholder="Text..."></textarea>
  </div>
  <script>
    const oghamMap={A:'ᚁ',B:'ᚂ',C:'ᚃ',D:'ᚄ',E:'ᚅ',F:'ᚆ',G:'ᚇ',H:'ᚈ',I:'ᚉ',J:'ᚊ',K:'ᚋ',L:'ᚌ',M:'ᚍ',N:'ᚎ',O:'ᚏ',P:'ᚐ',Q:'ᚑ',R:'ᚒ',S:'ᚓ',T:'ᚔ',U:'ᚕ',V:'ᚖ',W:'ᚗ',X:'ᚘ',Y:'ᚙ',Z:'᚜'};
    const reverseMap={};for(let k in oghamMap)reverseMap[oghamMap[k]]=k;
    const scrambled=[['R',oghamMap.R],['G',oghamMap.G],['T',oghamMap.T],['K',oghamMap.K],['B',oghamMap.B],['P',oghamMap.P],['X',oghamMap.X],['L',oghamMap.L],['N',oghamMap.N],['H',oghamMap.H],['J',oghamMap.J],['S',oghamMap.S],['E',oghamMap.E],['Y',oghamMap.Y],['A',oghamMap.A],['W',oghamMap.W],['M',oghamMap.M],['Z',oghamMap.Z],['O',oghamMap.O],['C',oghamMap.C],['Q',oghamMap.Q],['F',oghamMap.F],['U',oghamMap.U],['V',oghamMap.V],['I',oghamMap.I],['D',oghamMap.D]];
    let attempts=0;
    function buildInputs(){const c=document.getElementById('oghamInputs');c.innerHTML='';scrambled.forEach(([l,s])=>{let i=document.createElement('input');i.dataset.symbol=s;i.placeholder=s;i.maxLength=1;i.addEventListener('input',()=>i.value=i.value.toUpperCase());c.appendChild(i);});}
    function resetChallenge(){attempts=0;const inputs=document.querySelectorAll('#oghamInputs input');inputs.forEach(i=>{i.value='';i.classList.remove('correct','error');});}
    function checkAnswers(){let allOK=true;document.getElementById('error').style.display='none';const inputs=document.querySelectorAll('#oghamInputs input');inputs.forEach(i=>{if(i.value===reverseMap[i.dataset.symbol])i.classList.add('correct');else{allOK=false;i.classList.add('error');}});
      if(allOK){document.getElementById('challenge').style.display='none';document.getElementById('translator').style.display='block';}
      else{attempts++;document.getElementById('challenge').classList.add('glitch');setTimeout(()=>document.getElementById('challenge').classList.remove('glitch'),400);
        if(attempts>=3){resetChallenge();}
        else{document.getElementById('error').style.display='block';}}
    }
    function encodeOgham(t){return t.split('').map(c=>oghamMap[c.toUpperCase()]||c).join('');}
    function decodeOgham(t){return t.split('').map(c=>reverseMap[c]||c).join('');}
    document.getElementById('inputEnglish').addEventListener('input',e=>document.getElementById('outputOgham').value=encodeOgham(e.target.value));
    document.getElementById('inputOgham').addEventListener('input',e=>document.getElementById('outputEnglish').value=decodeOgham(e.target.value));
    window.addEventListener('DOMContentLoaded',buildInputs);
  </script>
</body>
</html>
